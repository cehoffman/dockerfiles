# Autogenerated configuration file template
#################################
# allow-axfr-ips	Allow zonetransfers only to these subnets
{{ with getenv "PDNS_ALLOW_AXFR_IPS" }}
allow-axfr-ips={{.}}
{{ end }}

#################################
# allow-dnsupdate-from	A global setting to allow DNS updates from these IP ranges.
{{ with getenv "PDNS_ALLOW_DNSUPDATE_FROM" }}
allow-dnsupdate-from={{.}}
{{ end }}

#################################
# allow-notify-from	Allow AXFR NOTIFY from these IP ranges. If empty, drop all incoming notifies.
{{ with getenv "PDNS_ALLOW_NOTIFY_FROM" }}
allow-notify-from={{.}}
{{ end }}

#################################
# allow-recursion	List of subnets that are allowed to recurse
{{ with getenv "PDNS_ALLOW_RECURSION" }}
allow-recursion={{.}}
{{ else }}
allow-recursion=127.0.0.1
{{ end }}

#################################
# also-notify	When notifying a domain, also notify these nameservers
{{ with getenv "PDNS_ALSO_NOTIFY" }}
also-notify={{.}}
{{ end }}

#################################
# any-to-tcp	Answer ANY queries with tc=1, shunting to TCP
{{ with getenv "PDNS_ANY_TO_TCP" }}
any-to-tcp={{.}}
{{ end }}

#################################
# api	Enable/disable the REST API
{{ with getenv "PDNS_API" }}
api={{.}}
{{ end }}

#################################
# api-key	Static pre-shared authentication key for access to the REST API
{{ with getenv "PDNS_API_KEY" }}
api-key={{.}}
{{ end }}

#################################
# api-logfile	Location of the server logfile (used by the REST API)
{{ with getenv "PDNS_API_LOGFILE" }}
api-logfile={{.}}
{{ end }}

#################################
# api-readonly	Disallow data modification through the REST API when set
{{ with getenv "PDNS_API_READONLY" }}
api-readonly={{.}}
{{ end }}

#################################
# cache-ttl	Seconds to store packets in the PacketCache
{{ with getenv "PDNS_CACHE_TTL" }}
cache-ttl={{.}}
{{ end }}

#################################
# carbon-interval	Number of seconds between carbon (graphite) updates
{{ with getenv "PDNS_CARBON_INTERVAL" }}
carbon-interval={{.}}
{{ end }}

#################################
# carbon-ourname	If set, overrides our reported hostname for carbon stats
{{ with getenv "PDNS_CARBON_OURNAME" }}
carbon-ourname={{.}}
{{ end }}

#################################
# carbon-server	If set, send metrics in carbon (graphite) format to this server
{{ with getenv "PDNS_CARBON_SERVER" }}
carbon-server={{.}}
{{ end }}

#################################
# chroot	If set, chroot to this directory for more security
{{ with getenv "PDNS_CHROOT" }}
chroot={{.}}
{{ end }}

#################################
# config-dir	Location of configuration directory (pdns.conf)
#
config-dir=/etc/powerdns

#################################
# config-name	Name of this virtual configuration - will rename the binary image
{{ with getenv "PDNS_CONFIG_NAME" }}
config-name={{.}}
{{ end }}

#################################
# control-console	Debugging switch - don't use
{{ with getenv "PDNS_CONTROL_CONSOLE" }}
control-console={{.}}
{{ end }}

#################################
# daemon	Operate as a daemon
#
daemon=no

#################################
# default-ksk-algorithms	Default KSK algorithms
{{ with getenv "PDNS_DEFAULT_KSK_ALGORITHMS" }}
default-ksk-algorithms={{.}}
{{ end }}

#################################
# default-ksk-size	Default KSK size (0 means default)
{{ with getenv "PDNS_DEFAULT_KSK_SIZE" }}
default-ksk-size={{.}}
{{ end }}

#################################
# default-soa-edit	Default SOA-EDIT value
{{ with getenv "PDNS_DEFAULT_SOA_EDIT" }}
default-soa-edit={{.}}
{{ end }}

#################################
# default-soa-edit-signed	Default SOA-EDIT value for signed zones
{{ with getenv "PDNS_DEFAULT_SOA_EDIT_SIGNED" }}
default-soa-edit-signed={{.}}
{{ end }}

#################################
# default-soa-mail	mail address to insert in the SOA record if none set in the backend
{{ with getenv "PDNS_DEFAULT_SOA_MAIL" }}
default-soa-mail={{.}}
{{ end }}

#################################
# default-soa-name	name to insert in the SOA record if none set in the backend
{{ with getenv "PDNS_DEFAULT_SOA_NAME" }}
default-soa-name={{.}}
{{ end }}

#################################
# default-ttl	Seconds a result is valid if not set otherwise
{{ with getenv "PDNS_DEFAULT_TTL" }}
default-ttl={{.}}
{{ end }}

#################################
# default-zsk-algorithms	Default ZSK algorithms
{{ with getenv "PDNS_DEFAULT_ZSK_ALGORITHMS" }}
default-zsk-algorithms={{.}}
{{ end }}

#################################
# default-zsk-size	Default ZSK size (0 means default)
{{ with getenv "PDNS_DEFAULT_ZSK_SIZE" }}
default-zsk-size={{.}}
{{ end }}

#################################
# direct-dnskey	Fetch DNSKEY RRs from backend during DNSKEY synthesis
{{ with getenv "PDNS_DIRECT_DNSKEY" }}
direct-dnskey={{.}}
{{ end }}

#################################
# disable-axfr	Disable zonetransfers but do allow TCP queries
{{ with getenv "PDNS_DISABLE_AXFR" }}
disable-axfr={{.}}
{{ end }}

#################################
# disable-axfr-rectify	Disable the rectify step during an outgoing AXFR. Only required for regression testing.
{{ with getenv "PDNS_DISABLE_AXFR_RECTIFY" }}
disable-axfr-rectify={{.}}
{{ end }}

#################################
# disable-tcp	Do not listen to TCP queries
{{ with getenv "PDNS_DISABLE_TCP" }}
disable-tcp={{.}}
{{ end }}

#################################
# distributor-threads	Default number of Distributor (backend) threads to start
{{ with getenv "PDNS_DISTRIBUTOR_THREADS" }}
distributor-threads={{.}}
{{ end }}

#################################
# dname-processing	If we should support DNAME records
{{ with getenv "PDNS_DNAME_PROCESSING" }}
dname-processing={{.}}
{{ end }}

#################################
# dnsupdate	Enable/Disable DNS update (RFC2136) support. Default is no.
{{ with getenv "PDNS_DNSUPDATE" }}
dnsupdate={{.}}
{{ end }}

#################################
# do-ipv6-additional-processing	Do AAAA additional processing
{{ with getenv "PDNS_DO_IPV6_ADDITIONAL_PROCESSING" }}
do-ipv6-additional-processing={{.}}
{{ end }}

#################################
# edns-subnet-processing	If we should act on EDNS Subnet options
{{ with getenv "PDNS_EDNS_SUBNET_PROCESSING" }}
edns-subnet-processing={{.}}
{{ end }}

#################################
# entropy-source	If set, read entropy from this file
{{ with getenv "PDNS_ENTROPY_SOURCE" }}
entropy-source={{.}}
{{ end }}

#################################
# experimental-lua-policy-script	Lua script for the policy engine
{{ with getenv "PDNS_EXPERIMENTAL_LUA_POLICY_SCRIPT" }}
experimental-lua-policy-script={{.}}
{{ end }}

#################################
# forward-dnsupdate	A global setting to allow DNS update packages that are for a Slave domain, to be forwarded to the master.
{{ with getenv "PDNS_FORWARD_DNSUPDATE" }}
forward-dnsupdate={{.}}
{{ end }}

#################################
# guardian	Run within a guardian process
#
guardian=yes

#################################
# include-dir	Include *.conf files from this directory
#
# include-dir=
include-dir=/etc/powerdns/pdns.d

#################################
# launch	Which backends to launch and order to query them in
#
# launch=
launch=gpgsql-dnssec

#################################
# load-modules	Load this module - supply absolute or relative path
#
# load-modules=

#################################
# local-address	Local IP addresses to which we bind
#
# local-address=0.0.0.0

#################################
# local-address-nonexist-fail	Fail to start if one or more of the local-address's do not exist on this server
#
# local-address-nonexist-fail=yes

#################################
# local-ipv6	Local IP address to which we bind
#
# local-ipv6=::

#################################
# local-ipv6-nonexist-fail	Fail to start if one or more of the local-ipv6 addresses do not exist on this server
#
# local-ipv6-nonexist-fail=yes

#################################
# local-port	The port on which we listen
#
# local-port=53

#################################
# log-dns-details	If PDNS should log DNS non-erroneous details
#
# log-dns-details=no

#################################
# log-dns-queries	If PDNS should log all incoming DNS queries
#
# log-dns-queries=no

#################################
# logging-facility	Log under a specific facility
#
# logging-facility=

#################################
# loglevel	Amount of logging. Higher is more. Do not set below 3
#
# loglevel=4

#################################
# lua-prequery-script	Lua script with prequery handler (DO NOT USE)
#
# lua-prequery-script=

#################################
# master	Act as a master
{{ with getenv "PDNS_MASTER" }}
master={{.}}
{{ end }}

#################################
# max-cache-entries	Maximum number of cache entries
{{ with getenv "PDNS_MAX_CACHE_ENTRIES" }}
max-cache-entries={{.}}
{{ end }}

#################################
# max-ent-entries	Maximum number of empty non-terminals in a zone
{{ with getenv "PDNS_MAX_ENT_ENTRIES" }}
max-ent-entries={{.}}
{{ end }}

#################################
# max-nsec3-iterations	Limit the number of NSEC3 hash iterations
{{ with getenv "PDNS_MAX_NSEC3_ITERATIONS" }}
max-nsec3-iterations={{.}}
{{ end }}

#################################
# max-queue-length	Maximum queuelength before considering situation lost
{{ with getenv "PDNS_MAX_QUEUE_LENGTH" }}
max-queue-length={{.}}
{{ end }}

#################################
# max-signature-cache-entries	Maximum number of signatures cache entries
{{ with getenv "PDNS_MAX_SIGNATURE_CACHE_ENTRIES" }}
max-signature-cache-entries={{.}}
{{ end }}

#################################
# max-tcp-connections	Maximum number of TCP connections
{{ with getenv "PDNS_MAX_TCP_CONNECTIONS" }}
max-tcp-connections={{.}}
{{ end }}

#################################
# module-dir	Default directory for modules
#
# module-dir=/usr/lib/x86_64-linux-gnu/pdns

#################################
# negquery-cache-ttl	Seconds to store negative query results in the QueryCache
{{ with getenv "PDNS_NEGQUERY_CACHE_TTL" }}
negquery-cache-ttl={{.}}
{{ end }}

#################################
# no-shuffle	Set this to prevent random shuffling of answers - for regression testing
#
# no-shuffle=off

#################################
# non-local-bind	Enable binding to non-local addresses by using FREEBIND / BINDANY socket options
{{ with getenv "PDNS_NON_LOCAL_BIND" }}
non-local-bind={{.}}
{{ end }}

#################################
# only-notify	Only send AXFR NOTIFY to these IP addresses or netmasks
{{ with getenv "PDNS_ONLY_NOTIFY" }}
only-notify={{.}}
{{ end }}

#################################
# out-of-zone-additional-processing	Do out of zone additional processing
{{ with getenv "PDNS_OUT_OF_ZONE_ADDITIONAL_PROCESSING" }}
out-of-zone-additional-processing={{.}}
{{ end }}

#################################
# overload-queue-length	Maximum queuelength moving to packetcache only
{{ with getenv "PDNS_OVERLOAD_QUEUE_LENGTH" }}
overload-queue-length={{.}}
{{ end }}

#################################
# prevent-self-notification	Don't send notifications to what we think is ourself
{{ with getenv "PDNS_PREVENT_SELF_NOTIFICATION" }}
prevent-self-notification={{.}}
{{ end }}

#################################
# query-cache-ttl	Seconds to store query results in the QueryCache
{{ with getenv "PDNS_QUERY_CACHE_TTL" }}
query-cache-ttl={{.}}
{{ end }}

#################################
# query-local-address	Source IP address for sending queries
{{ with getenv "PDNS_QUERY_LOCAL_ADDRESS" }}
query-local-address={{.}}
{{ end }}

#################################
# query-local-address6	Source IPv6 address for sending queries
{{ with getenv "PDNS_QUERY_LOCAL_ADDRESS6" }}
query-local-address6={{.}}
{{ end }}

#################################
# query-logging	Hint backends that queries should be logged
{{ with getenv "PDNS_QUERY_LOGGING" }}
query-logging={{.}}
{{ end }}

#################################
# queue-limit	Maximum number of milliseconds to queue a query
{{ with getenv "PDNS_QUEUE_LIMIT" }}
queue-limit={{.}}
{{ end }}

#################################
# receiver-threads	Default number of receiver threads to start
{{ with getenv "PDNS_RECEIVER_THREADS" }}
receiver-threads={{.}}
{{ end }}

#################################
# recursive-cache-ttl	Seconds to store packets for recursive queries in the PacketCache
{{ with getenv "PDNS_RECURSIVE_CACHE_TTL" }}
recursive-cache-ttl={{.}}
{{ end }}

#################################
# recursor	If recursion is desired, IP address of a recursing nameserver
{{ with getenv "PDNS_RECURSOR" }}
recursor={{.}}
{{ end }}

#################################
# retrieval-threads	Number of AXFR-retrieval threads for slave operation
{{ with getenv "PDNS_RETRIEVAL_THREADS" }}
retrieval-threads={{.}}
{{ end }}

#################################
# reuseport	Enable higher performance on compliant kernels by using SO_REUSEPORT allowing each receiver thread to open its own socket
{{ with getenv "PDNS_REUSEPORT" }}
reuseport={{.}}
{{ else }}
reuseport=yes
{{ end }}

#################################
# security-poll-suffix	Domain name from which to query security update notifications
{{ with getenv "PDNS_SECURITY_POLL_SUFFIX" }}
security-poll-suffix={{.}}
{{ end }}

#################################
# send-root-referral	Send out old-fashioned root-referral instead of ServFail in case of no authority
{{ with getenv "PDNS_SEND_ROOT_REFERRAL" }}
send-root-referral={{.}}
{{ end }}

#################################
# server-id	Returned when queried for 'server.id' TXT or NSID, defaults to hostname - disabled or custom
{{ with getenv "PDNS_SERVER_ID" }}
server-id={{.}}
{{ end }}

#################################
# setgid	If set, change group id to this gid for more security
#
setgid=pdns

#################################
# setuid	If set, change user id to this uid for more security
#
setuid=pdns

#################################
# signing-threads	Default number of signer threads to start
{{ with getenv "PDNS_SIGNING_THREADS" }}
signing-threads={{.}}
{{ end }}

#################################
# slave	Act as a slave
{{ with getenv "PDNS_SLAVE" }}
slave={{.}}
{{ end }}

#################################
# slave-cycle-interval	Schedule slave freshness checks once every .. seconds
{{ with getenv "PDNS_SLAVE_CYCLE_INTERVAL" }}
slave-cycle-interval={{.}}
{{ end }}

#################################
# slave-renotify	If we should send out notifications for slaved updates
{{ with getenv "PDNS_SLAVE_RENOTIFY" }}
slave-renotify={{.}}
{{ end }}

#################################
# soa-expire-default	Default SOA expire
{{ with getenv "PDNS_SOA_EXPIRE_DEFAULT" }}
soa-expire-default={{.}}
{{ end }}

#################################
# soa-minimum-ttl	Default SOA minimum ttl
{{ with getenv "PDNS_SOA_MINIMUM_TTL" }}
soa-minimum-ttl={{.}}
{{ end }}

#################################
# soa-refresh-default	Default SOA refresh
{{ with getenv "PDNS_SOA_REFRESH_DEFAULT" }}
soa-refresh-default={{.}}
{{ end }}

#################################
# soa-retry-default	Default SOA retry
{{ with getenv "PDNS_SOA_RETRY_DEFAULT" }}
soa-retry-default={{.}}
{{ end }}

#################################
# socket-dir	Where the controlsocket will live, /var/run when unset and not chrooted
#
# socket-dir=

#################################
# tcp-control-address	If set, PowerDNS can be controlled over TCP on this address
#
# tcp-control-address=

#################################
# tcp-control-port	If set, PowerDNS can be controlled over TCP on this address
#
# tcp-control-port=53000

#################################
# tcp-control-range	If set, remote control of PowerDNS is possible over these networks only
#
# tcp-control-range=127.0.0.0/8, 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10

#################################
# tcp-control-secret	If set, PowerDNS can be controlled over TCP after passing this secret
#
# tcp-control-secret=

#################################
# traceback-handler	Enable the traceback handler (Linux only)
#
# traceback-handler=yes

#################################
# trusted-notification-proxy	IP address of incoming notification proxy
#
# trusted-notification-proxy=

#################################
# udp-truncation-threshold	Maximum UDP response size before we truncate
{{ with getenv "PDNS_UDP_TRUNCATION_THRESHOLD" }}
udp-truncation-threshold={{.}}
{{ end }}

#################################
# version-string	PowerDNS version in packets - full, anonymous, powerdns or custom
{{ with getenv "PDNS_VERSION_STRING" }}
version-string={{.}}
{{ else }}
version-string=anonymous
{{ end }}

#################################
# webserver	Start a webserver for monitoring
{{ with getenv "PDNS_WEBSERVER" }}
webserver={{.}}
{{ end }}

#################################
# webserver-address	IP Address of webserver to listen on
{{ with getenv "PDNS_WEBSERVER_ADDRESS" }}
webserver-address={{.}}
{{ end }}

#################################
# webserver-allow-from	Webserver access is only allowed from these subnets
{{ with getenv "PDNS_WEBSERVER_ALLOW_FROM" }}
webserver-allow-from={{.}}
{{ end }}

#################################
# webserver-password	Password required for accessing the webserver
{{ with getenv "PDNS_WEBSERVER_PASSWORD" }}
webserver-password={{.}}
{{ end }}

#################################
# webserver-port	Port of webserver to listen on
{{ with getenv "PDNS_WEBSERVER_PORT" }}
webserver-port={{.}}
{{ end }}

#################################
# webserver-print-arguments	If the webserver should print arguments
{{ with getenv "PDNS_WEBSERVER_PRINT_ARGUMENTS" }}
webserver-print-arguments={{.}}
{{ end }}

#################################
# write-pid	Write a PID file
#
# write-pid=yes
write-pid=no


